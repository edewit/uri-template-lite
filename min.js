!function(k){function n(a){return encodeURIComponent(a).replace(p,escape)}function q(a,f,l){return a+(f||"&"==l?"=":"")+f}function m(a,f,l){a=a.map(f).filter(function(a){return"string"==typeof a});return a.length&&a.join(l)}var p=/[\]\[:\/?#@!$&()*+,;=']/g,r=/\{([+#.\/;?&]?)((?:[\w%.]+(\*|:\d)?,?)+)\}/g,s={"":",","+":",","#":",","?":"&"};k.expand=function(a,f){return a.replace(r,function(a,b,k){var d=s[b]||b,h=b&&","==d?encodeURI:n,g=(";"==d||"&"==d)&&q;return(a=m(k.split(","),function(a){var b=a!=
(a=a.split("*")[0]),e=!b&&(e=a.split(":"),a=e[0],e[1]),c=f[a];if(null!=c){if("object"==typeof c){if(Array.isArray(c)?c=m(c,h,b?g?d+a+"=":d:","):(e=b?"=":",",c=m(Object.keys(c),function(a){return h(a)+e+h(c[a])},b&&("/"==d||g)?d:","),b&&(g=null)),!c)return}else c=h(e?c.slice(0,e):c);return g?g(a,c,d):c}},d))?"+"!=b?b+a:a:""!==a||"#"!=b&&"."!=b?"":b})}}(this);
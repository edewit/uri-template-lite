!function(f){function m(d){return encodeURIComponent(d).replace(n,escape)}function p(d,b,a){return d+(b||"&"==a?"=":"")+b}function q(d){return"string"==typeof d}function k(d,b,a){d=d.map(b).filter(q);return d.length&&d.join(a)}function r(d,b,a,f){var e=s[a]||a,h=a&&","==e?encodeURI:m,l=(";"==e||"&"==e)&&p;return(b=k(f.split(","),function(a){var b=a!=(a=a.split("*")[0]),g=!b&&(g=a.split(":"),a=g[0],g[1]),c=d[a];if(null!=c){if("object"==typeof c){if(Array.isArray(c))c=k(c,h,b?e+(";"==e||"&"==e?a+"=":
""):",");else{var f=b?"=":",",c=k(Object.keys(c),function(a){return a in c&&h(a)+f+h(c[a])},!b||"/"!=e&&";"!=e&&"&"!=e?",":e);b&&(l=null)}if(!c)return}else c=h(g?c.slice(0,g):c);return l?l(a,c,e):c}},e))?"+"!=a?a+b:b:""!==b||"#"!=a&&"."!=a?"":a}var n=/[\]\[:\/?#@!$&()*+,;=']/g,t=/\{([+#.\/;?&]?)((?:[\w%.]+(\*|:\d)?,?)+)\}/g,s={"":",","+":",","#":",","?":"&"};f.expand=function(d,b){return d.replace(t,r.bind(null,b))}}(this);
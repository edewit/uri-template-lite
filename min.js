!function(f){function m(c){return encodeURIComponent(c).replace(n,escape)}function p(c,b,a){return c+(b||"&"==a?"=":"")+b}function l(c,b,a){c=c.map(b).filter(function(c){return"string"==typeof c});return c.length&&c.join(a)}function q(c,b,a,f){var e=r[a]||a,k=a&&","==e?encodeURI:m,g=(";"==e||"&"==e)&&p;return(b=l(f.split(","),function(a){var b=a!=(a=a.split("*")[0]),h=!b&&(h=a.split(":"),a=h[0],h[1]),d=c[a];if(null!=d){if("object"==typeof d){if(Array.isArray(d))d=l(d,k,b?g?e+a+"=":e:",");else{var f=
b?"=":",",d=l(Object.keys(d),function(a){return k(a)+f+k(d[a])},b&&("/"==e||g)?e:",");b&&(g=null)}if(!d)return}else d=k(h?d.slice(0,h):d);return g?g(a,d,e):d}},e))?"+"!=a?a+b:b:""!==b||"#"!=a&&"."!=a?"":a}var n=/[\]\[:\/?#@!$&()*+,;=']/g,s=/\{([+#.\/;?&]?)((?:[\w%.]+(\*|:\d)?,?)+)\}/g,r={"":",","+":",","#":",","?":"&"};f.expand=function(c,b){return c.replace(s,q.bind(null,b))}}(this);